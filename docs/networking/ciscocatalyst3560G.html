

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Cisco Catalyst 3560G Config &mdash; Bookmarks rc documentation</title>
  

  
  
  
  

  

  
  
    

  

  <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Ruby" href="../ruby/index.html" />
    <link rel="prev" title="Networking" href="index.html" /> 

  
  <script src="../_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
          

          
            <a href="../index.html" class="icon icon-home"> Bookmarks
          

          
          </a>

          
            
            
              <div class="version">
                1.0
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../linux/index.html">Linux</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="index.html">Networking</a><ul class="current">
<li class="toctree-l2 current"><a class="current reference internal" href="#">Cisco Catalyst 3560G Config</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#set-cisco-banner-motd">Set Cisco Banner (motd)</a></li>
<li class="toctree-l3"><a class="reference internal" href="#enable-lldp">Enable LLDP</a></li>
<li class="toctree-l3"><a class="reference internal" href="#set-hostname-dns">Set Hostname &amp; DNS</a></li>
<li class="toctree-l3"><a class="reference internal" href="#setup-ssh">Setup SSH</a></li>
<li class="toctree-l3"><a class="reference internal" href="#list-interfaces">List interfaces</a></li>
<li class="toctree-l3"><a class="reference internal" href="#vlans">VLANs</a></li>
<li class="toctree-l3"><a class="reference internal" href="#configure-dhcp">Configure DHCP</a></li>
<li class="toctree-l3"><a class="reference internal" href="#dhcp-forwarding">DHCP Forwarding</a></li>
<li class="toctree-l3"><a class="reference internal" href="#random">Random</a></li>
<li class="toctree-l3"><a class="reference internal" href="#get-system-temp-info">Get System Temp Info</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../ruby/index.html">Ruby</a></li>
<li class="toctree-l1"><a class="reference internal" href="../software/index.html">Random Software</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">Bookmarks</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../index.html">Docs</a> &raquo;</li>
        
          <li><a href="index.html">Networking</a> &raquo;</li>
        
      <li>Cisco Catalyst 3560G Config</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="../_sources/networking/ciscocatalyst3560G.md.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="cisco-catalyst-3560g-config">
<span id="cisco-catalyst-3560g-config"></span><h1>Cisco Catalyst 3560G Config<a class="headerlink" href="#cisco-catalyst-3560g-config" title="Permalink to this headline">¶</a></h1>
<p>This document covers a range of different configurations needed and some not needed for getting my switch working.
Most of this is likely wrong or has a better way of doing it i’m still learning. I will try and come back and clean
this up later so I don’t leave crap info sitting around forever.</p>
<div class="section" id="set-cisco-banner-motd">
<span id="set-cisco-banner-motd"></span><h2>Set Cisco Banner (motd)<a class="headerlink" href="#set-cisco-banner-motd" title="Permalink to this headline">¶</a></h2>
<p>This will set the banner that is shown when first loggin into your switch.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">enable</span>
<span class="n">configure</span> <span class="n">terminal</span>
<span class="n">banner</span> <span class="n">motd</span> <span class="p">[</span>
<span class="n">end</span>
<span class="n">copy</span> <span class="n">running</span><span class="o">-</span><span class="n">config</span> <span class="n">startup</span><span class="o">-</span><span class="n">config</span>
</pre></div>
</div>
<p>You can now type in whatever you want and when you are finished type <code class="docutils literal notranslate"><span class="pre">[</span></code> and press enter.</p>
</div>
<div class="section" id="enable-lldp">
<span id="enable-lldp"></span><h2>Enable LLDP<a class="headerlink" href="#enable-lldp" title="Permalink to this headline">¶</a></h2>
<p>Enable connected deviced to retrieve attributes about the network. More about LLDP can be seen in the first paragraph
of this <a class="reference external" href="http://www.cisco.com/c/en/us/td/docs/switches/lan/catalyst3560/software/release/12-2_55_se/configuration/guide/3560_scg/swlldp.html">link</a>.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">enable</span>
<span class="n">configure</span> <span class="n">terminal</span>
<span class="n">lldp</span> <span class="n">run</span>
<span class="n">end</span>
<span class="n">copy</span> <span class="n">running</span><span class="o">-</span><span class="n">config</span> <span class="n">startup</span><span class="o">-</span><span class="n">config</span>
</pre></div>
</div>
</div>
<div class="section" id="set-hostname-dns">
<span id="set-hostname-dns"></span><h2>Set Hostname &amp; DNS<a class="headerlink" href="#set-hostname-dns" title="Permalink to this headline">¶</a></h2>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">enable</span>
<span class="n">configure</span> <span class="n">terminal</span>
<span class="n">hostname</span> <span class="o">&lt;</span><span class="n">hostname</span><span class="o">&gt;</span>
<span class="n">ip</span> <span class="n">domain</span><span class="o">-</span><span class="n">name</span> <span class="o">&lt;</span><span class="n">domain</span><span class="o">-</span><span class="n">root</span><span class="o">&gt;</span>
<span class="n">ip</span> <span class="n">name</span><span class="o">-</span><span class="n">server</span> <span class="o">&lt;</span><span class="n">ip</span><span class="o">&gt;</span>
<span class="n">end</span>
<span class="n">copy</span> <span class="n">running</span><span class="o">-</span><span class="n">config</span> <span class="n">startup</span><span class="o">-</span><span class="n">config</span>
</pre></div>
</div>
<p>Hostname in my case would be something in the convention of <code class="docutils literal notranslate"><span class="pre">&lt;switch</span> <span class="pre">model&gt;.&lt;rack</span> <span class="pre">name&gt;.&lt;pod</span> <span class="pre">number&gt;.&lt;datacenter&gt;</span></code> this could
look like <code class="docutils literal notranslate"><span class="pre">c3650g.tor-a1.pod-01.pit-shd-1</span></code> which stands for…</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">c3650g</span>    <span class="o">-</span> <span class="n">Cisco</span> <span class="mi">3650</span><span class="n">G</span> <span class="n">switch</span> <span class="n">model</span> <span class="ow">not</span> <span class="n">required</span> <span class="n">you</span> <span class="n">may</span> <span class="n">have</span> <span class="n">a</span> <span class="n">better</span> <span class="n">way</span> <span class="n">to</span> <span class="n">dermine</span> <span class="n">this</span> <span class="ow">in</span> <span class="n">your</span> <span class="n">environment</span>
<span class="n">tor</span><span class="o">-</span><span class="n">a1</span>    <span class="o">-</span> <span class="n">This</span> <span class="ow">is</span> <span class="n">a</span> <span class="n">top</span> <span class="n">of</span> <span class="n">rack</span> <span class="n">switch</span> <span class="n">called</span> <span class="n">a1</span> <span class="n">so</span> <span class="n">it</span><span class="s1">&#39;s easy to locate inside the datacenter</span>
<span class="n">pod</span><span class="o">-</span><span class="mi">01</span>    <span class="o">-</span> <span class="n">This</span> <span class="ow">is</span> <span class="n">the</span> <span class="n">first</span> <span class="n">pod</span> <span class="ow">in</span> <span class="n">the</span> <span class="n">datacenter</span> <span class="n">normally</span> <span class="n">logically</span> <span class="n">divided</span> <span class="n">by</span> <span class="n">OOB</span> <span class="n">networks</span> <span class="ow">or</span> <span class="n">IP</span> <span class="n">space</span><span class="o">.</span>
<span class="n">pit</span><span class="o">-</span><span class="n">shd</span><span class="o">-</span><span class="mi">1</span> <span class="o">-</span> <span class="n">This</span> <span class="ow">is</span> <span class="n">a</span> <span class="n">datacenter</span> <span class="n">some</span> <span class="n">place</span> <span class="ow">in</span> <span class="n">pittsburgh</span>
</pre></div>
</div>
<p>The domain-name is something like website.com if you happened to own that domain and used it for all of the computers located
inside this facility. You will likely have a dedicated DNS server that serves this domain name in your datacenter.</p>
<p>The name-server is just the ip, hopefully you can enter more than one although i’m not sure how that configuration would look
at this time since I only have one setup for testing.</p>
</div>
<div class="section" id="setup-ssh">
<span id="setup-ssh"></span><h2>Setup SSH<a class="headerlink" href="#setup-ssh" title="Permalink to this headline">¶</a></h2>
<p>Before you start make sure you have done all configuration in the “Set Hostname &amp; DNS” section.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">enable</span>
<span class="n">configure</span> <span class="n">terminal</span>
<span class="n">crypto</span> <span class="n">key</span> <span class="n">generate</span> <span class="n">rsa</span>
<span class="n">end</span>

<span class="n">configure</span> <span class="n">terminal</span>
<span class="n">line</span> <span class="n">vty</span> <span class="mi">0</span> <span class="mi">4</span>
<span class="n">transport</span> <span class="nb">input</span> <span class="n">ssh</span>
<span class="n">login</span> <span class="n">local</span>
<span class="n">exit</span>

<span class="n">configure</span> <span class="n">terminal</span>
<span class="n">username</span> <span class="o">&lt;</span><span class="n">username</span><span class="o">&gt;</span> <span class="n">password</span> <span class="o">&lt;</span><span class="n">password</span><span class="o">&gt;</span>

<span class="n">copy</span> <span class="n">running</span><span class="o">-</span><span class="n">config</span> <span class="n">startup</span><span class="o">-</span><span class="n">config</span>
</pre></div>
</div>
<p>You should now be able to log in with the username and password you have set. You can set multiple accounts as well. I imagine
you can obtain the private key as well and use that but haven’t looked into it yet. To see what your current settings are you
can run the following two commands.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">show</span> <span class="n">ip</span> <span class="n">ssh</span>
<span class="n">show</span> <span class="n">ssh</span>
</pre></div>
</div>
</div>
<div class="section" id="list-interfaces">
<span id="list-interfaces"></span><h2>List interfaces<a class="headerlink" href="#list-interfaces" title="Permalink to this headline">¶</a></h2>
<p>Not much going on here outside of remembering that if the node connected to the interface is offline it will report as a-100
instead of whatever the true interface speed is.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">show</span> <span class="n">interfaces</span> <span class="n">status</span>
</pre></div>
</div>
<p>If you want to filter for connected only interfaces on devices with a large number of ports..</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">show</span> <span class="n">interfaces</span> <span class="n">status</span> <span class="o">|</span> <span class="n">include</span> <span class="n">connected</span>
</pre></div>
</div>
</div>
<div class="section" id="vlans">
<span id="vlans"></span><h2>VLANs<a class="headerlink" href="#vlans" title="Permalink to this headline">¶</a></h2>
<p>General overview of working with VLAN for noobs like me.</p>
<p>To get an overview of the current/default VLANs on your switch and the ports connected to them run</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">show</span> <span class="n">vlan</span>
</pre></div>
</div>
<p>To create a new VLAN run the following commands on your switch. VLAN 2 is used in this example
but you can use any VLAN that you wish. Some things to note is that <code class="docutils literal notranslate"><span class="pre">no</span> <span class="pre">shutdown</span></code> is used to
bring the interface up since by default it is set to down. The default-gateway is not needed
however I explicitly state it here in case you want to use a different gateway for the specific
VLAN than the one used for all interfaces on the router.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">enable</span>
<span class="n">configure</span> <span class="n">terminal</span>

<span class="n">vlan</span> <span class="mi">2</span>
<span class="n">name</span> <span class="n">ToR</span>
<span class="n">exit</span>

<span class="n">interface</span> <span class="n">Vlan</span> <span class="mi">2</span>
<span class="n">ip</span> <span class="n">address</span> <span class="mf">10.0</span><span class="o">.</span><span class="mf">0.1</span> <span class="mf">255.255</span><span class="o">.</span><span class="mf">255.0</span>
<span class="n">no</span> <span class="n">shutdown</span>
<span class="n">exit</span>
<span class="n">enable</span>
<span class="n">configure</span> <span class="n">terminal</span>

<span class="n">interface</span> <span class="n">GigabitEthernet</span> <span class="mi">0</span><span class="o">/</span><span class="mi">33</span>
<span class="n">switchport</span> <span class="n">access</span> <span class="n">vlan</span> <span class="mi">2</span>
<span class="n">exit</span>

<span class="n">copy</span> <span class="n">running</span><span class="o">-</span><span class="n">config</span> <span class="n">startup</span><span class="o">-</span><span class="n">config</span>
</pre></div>
</div>
<p>If you did everything correct the Vlan you configured should say <code class="docutils literal notranslate"><span class="pre">Vlan2</span> <span class="pre">is</span> <span class="pre">up,</span> <span class="pre">line</span> <span class="pre">protocol</span> <span class="pre">is</span> <span class="pre">up</span></code>
when you check the output of <code class="docutils literal notranslate"><span class="pre">show</span> <span class="pre">interfaces</span></code>. <code class="docutils literal notranslate"><span class="pre">show</span> <span class="pre">interfaces</span> <span class="pre">brief</span></code> should list all ports using
the new VLAN as well.</p>
<p>To test you can use the cisco ping command <code class="docutils literal notranslate"><span class="pre">ping</span> <span class="pre">192.168.1.1</span> <span class="pre">source</span> <span class="pre">10.0.0.1</span></code> to ensure that your
routing is setup properly.</p>
<p>Note you will still have to setup a static route so that in this case the router handling
<code class="docutils literal notranslate"><span class="pre">192.168.1.1</span></code> which in my case is a static route 10.0.0.1 -&gt; 192.168.1.8 where 192.168.1.8
is the ip for VLAN 1 on my switch.</p>
</div>
<div class="section" id="configure-dhcp">
<span id="configure-dhcp"></span><h2>Configure DHCP<a class="headerlink" href="#configure-dhcp" title="Permalink to this headline">¶</a></h2>
<p>Very similiar to the steps for settingup up vlans for the most part you can configure your switch
port to use DHCP to get it’s IP address.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">enable</span>
<span class="n">configure</span> <span class="n">terminal</span>

<span class="n">interface</span> <span class="n">GigabitEthernet</span> <span class="mi">0</span><span class="o">/</span><span class="mi">1</span>
<span class="n">ip</span> <span class="n">address</span> <span class="n">dhcp</span>
<span class="n">exit</span>

<span class="n">copy</span> <span class="n">running</span><span class="o">-</span><span class="n">config</span> <span class="n">startup</span><span class="o">-</span><span class="n">config</span>
</pre></div>
</div>
<p>This will allow you to let an upstream router acting as the DHCP set your IP instead of having to change it by hand
when you need to make changes to your router.</p>
</div>
<div class="section" id="dhcp-forwarding">
<span id="dhcp-forwarding"></span><h2>DHCP Forwarding<a class="headerlink" href="#dhcp-forwarding" title="Permalink to this headline">¶</a></h2>
<p>If you have a DHCP server on another broadcast domain you can set the DHCP server the ToR switch
should forward to using the following. In this example 192.168.1.5 is my DHCP server.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">enable</span>
<span class="n">configure</span> <span class="n">terminal</span>

<span class="n">interface</span> <span class="n">Vlan</span> <span class="mi">2</span>
<span class="n">ip</span> <span class="n">helper</span><span class="o">-</span><span class="n">address</span> <span class="mf">192.168</span><span class="o">.</span><span class="mf">1.5</span>
<span class="n">exit</span>

<span class="n">copy</span> <span class="n">running</span><span class="o">-</span><span class="n">config</span> <span class="n">startup</span><span class="o">-</span><span class="n">config</span>
</pre></div>
</div>
</div>
<div class="section" id="random">
<span id="random"></span><h2>Random<a class="headerlink" href="#random" title="Permalink to this headline">¶</a></h2>
<p>To stop Cisco from trying to do a dns lookup when you type in an invalid command
you can issue the following.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">no</span> <span class="n">ip</span> <span class="n">domain</span> <span class="n">lookup</span>
</pre></div>
</div>
<p>If you would like to not be blasted with logging while you are typing..</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">no</span> <span class="n">logging</span> <span class="n">console</span>
</pre></div>
</div>
</div>
<div class="section" id="get-system-temp-info">
<span id="get-system-temp-info"></span><h2>Get System Temp Info<a class="headerlink" href="#get-system-temp-info" title="Permalink to this headline">¶</a></h2>
<p>If you are looking for info on if your system is overheating you can use</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">show</span> <span class="n">env</span> <span class="nb">all</span>
</pre></div>
</div>
<p>To return information about the temp, system fan, and temp thresholds.</p>
</div>
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="../ruby/index.html" class="btn btn-neutral float-right" title="Ruby" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="index.html" class="btn btn-neutral" title="Networking" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2018, Michael Schuett.

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'../',
            VERSION:'rc',
            LANGUAGE:'None',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true,
            SOURCELINK_SUFFIX: '.txt'
        };
    </script>
      <script type="text/javascript" src="../_static/jquery.js"></script>
      <script type="text/javascript" src="../_static/underscore.js"></script>
      <script type="text/javascript" src="../_static/doctools.js"></script>

  

  <script type="text/javascript" src="../_static/js/theme.js"></script>

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>